<html><body>
  <h1>Profiles</h1>
  <ul>
      {% for cloth in myclothes %}
        <!--StartName--><h3 id="name">{{cloth.name}}</h3><!--EndName-->
        <img src = "{{MEDIA_URL}}{{cloth.image}}">
      {% endfor %}
      <div class="clearfix">
        <center><a class="btn btn-primary" id = "myBtn" href="#">Checker</a></center>
    </div>
  </ul>
  <script src = "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script>
    var newBtn = document.getElementById("myBtn");
          newBtn.onclick = function(){
          $.ajax({
            method:"GET",
            url: 'http://127.0.0.1:8000/apidata',
            success:function(data){
              
              startingNameIndex = data.indexOf('StartName')+26 //Finds index of beginning of first cloth
              endingNameIndex = data.indexOf('</h3>') //Finds index of end of FIRST cloth

              newData = data.slice(endingNameIndex+5,data.length)
              secondStartingNameIndex = newData.indexOf('StartName')+26
              secondEndingNameIndex = newData.indexOf('</h3>')

              
              //Need a way to change name of all clothes rather than just one
              firstNewName = data.slice(startingNameIndex,endingNameIndex)
              secondNewName = newData.slice(secondStartingNameIndex,secondEndingNameIndex)
              
              items = [firstNewName,secondNewName]
              //console.log(firstNewName)
              //console.log(secondNewName)
              for (i=0;i<items.length;i++){
                document.getElementsByTagName('h3')[i].innerHTML = items[i]
              }
              //console.log(document.getElementsByTagName('h3'))
              //document.getElementById("name").innerHTML = newName

            },
            failure: function(data){
              console.log('fail bro')
            }
          })
          //modal.style.display = "block";
        }
  </script>

  </body>
  </html>

